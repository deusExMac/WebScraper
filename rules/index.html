<!-- Tutorial from Design Shack
https://designshack.net/articles/css/5-simple-and-practical-css-list-styles-you-can-copy-and-paste/ -->

<! DOCTYPE html>
<html>
  <head>
    <title>Overview of .exr sample files</title>
    <style>
    /* browser reset */

	* {
	  margin: 0;
	  padding: 0;
	}

    html {background-color: #FFE9A0;}    

    /* required beacuse of font style in **/
    b{font-weight:bold;}
    i{ font-style: italic;}



.caption {
        width: 90%;
        margin: 0 auto;
        margin-top:30px;
        padding-left:60px;
        font: 24pt helvetica, arial, sans-serif;
        color: white;/*#4c7aba;*/
        #border: 2px solid red;
        background-color:  #367E18;
        line-height: 55px;
        }


.introtext{
        width: 80%;
        margin: 0 auto;
        margin-top:40px;
        padding-left:60px;
        font: 14pt helvetica, arial, sans-serif;
        font-style:italic;
        #border: 2px solid red;
        }


.redcaption {
      background-color:  #554994;
}


.row {
  width: 90%;
  margin: 0 auto;
  #margin-left:15px;
  display: flex;
  flex-wrap: wrap;
  /*justify-content: left;*/ /* for centering 3 blocks in the center */
  /* justify-content: space-between; for space in between */
  border:0px dotted green;
  margin-top: 20px;
  justify-content: center;
  padding-bottom:40px;
  /*background-color:#fcfbeb;*/
}

.rowbackground1{
   background-color:#dff7d4;
   margin-top: 0px;
}


.rowbackground2{
   background-color:#d0cce6;
   margin-top: 0px;
   /*padding-bottom:40px;*/    
}

.block {
  width: 360px;
  margin-top:25px;
  margin-left:20px;
  padding:4px;
  #padding-top: 25px;
  padding-right:30px;
  padding-bottom:40px;
  #border:2px solid #c1c3c7;
  border:2px solid #b6d3fc;
  font: 11pt arial, sans-serif, helvetica;
  background-color: white;
}


/* .block:hover{border:2px solid red;} */

.subexampleblock {
   background-color:  #fcfcf5; /*#f9fae8;*/
   border:2px solid #fcfcf0;
}

.templateblock {
    background-color: #fffbeb;
   border:2px solid #00348f;
}

.hoveredblock:hover {
    /*border:2.1px solid red;*/
    -webkit-box-shadow:0 0 20px blue;
	-moz-box-shadow: 0 0 20px blue;
    box-shadow:0 0 20px blue ;
        }

.block p {
	  color: #555;
	  padding-left: 60px;
	  margin-top:6px;
      font: 11pt arial, sans-serif, helvetica;
 }



.clrblock1 {
            border:2px solid #e2e37e;
        }

.clrblock2 {
            border:2px solid #d7facd;;
        }


.clrblock3{
            border:2px solid #facfe2;
        }


.clrblock4{
            border:2px solid #f9fad2;
        }


.label {
            margin-top:2px;
            padding-left: 50px;
            overflow-wrap: anywhere;
        }



.smaller {
           color:#a2a4a6;
           font-size:95%;
           margin-top:6px;
        }


.subexample {
          padding-left: 75px;
        }


.code {
    font: 11pt Trebuchet MS, Times New Roman,Tahoma, sans-serif, helvetica;
    font-size:90%;
    overflow-wrap: anywhere;
}

.codesnipped {
          font: 12pt Times New Roman;
}

.blocktitle {
              margin-top:5px;
              margin-bottom:10px;
              margin-left:50px;
              font-size:130%;
              background-color: #e9edf7; /*#cbd3f7;*/ /*#c0d6f0;*/
              #padding-top:5px;
              #padding-bottom:5px;
              #padding-left:5px;
              padding:5px;
              font-family: Alberus, Trebuchet MS, sans-serif, helvetica;
        }


.blocktitlesubexample {
        margin-left:75px;
 }



span {
	  position: absolute;
	  line-height: 25px;
      font: bold 24pt helvetica, arial, sans-serif;
      color:#d2cfed; ##dfddf0; ##d0d2d6;
	  #border:1px dotted blue;
      margin-top: 3px;

	}


.subexamplenumber {
      color:#d2cfed; /*#e6e6e6;*/
}



a:link { color:orange; text-decoration: underline; }

a:visited { color:blueviolet; text-decoration: underline; }

a:hover { color:darkseagreen; text-decoration: underline; }

a:active { color:blueviolet; text-decoration: underline; }

.label a:link { color:blue; text-decoration: underline; }
.label a:visited { color:blueviolet; text-decoration: underline; }
.label a:hover { color:blue; text-decoration: underline; }
.label a:active { color:skyblue; text-decoration: underline; }

a:link.template {color:white;}
a:visited.template {color:yellow;}
a:hover.template { color:darkseagreen; text-decoration: underline; }

</style>

<title>Index to .exr files in rules directory demonstrating supported fileds</title>

</head>



<body>

  <div class="introtext">Note: The next .exr files have been tested Nov 20, 2022 and all seem to work. If the demonstrated websites change the html content of the targeted pages, the respective .exr files need to change accordingly. If some exr files use request cookies, these may need to be updated periodically.</div>
  <div class="caption">List of example .exr files</div>
  <div class="row rowbackground1">



  <!-- XXXXXXXXXXX -->

  <div class="block templateblock hoveredblock">
      <span><font color="#00348f">00</font></span>
      <div class="blocktitle" style="background-color:#00348f"><a href="allFields-TEMPLATE.exr" class="template">TEMPLATE</a></div>
      <div class="label">
          <font color="black"> <b>description:</b><br/></font>
           Contains all the <a href="https://github.com/deusExMac/WebScraper">supported fields</a> in .exr file. Fields do not have  value. Has comments to explain format of values of some fields.  <br>
      </div>
      <div class="label"><b>target:</b><br/>
        Can be used as a template to author new .exr files<br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> All and none.</i></div>
  </div> <!-- block -->




  <!-- XXXXXXXXXXX -->

  <div id="e1" class="block clrblock1 hoveredblock">
      <span><font color="#e2e37e">01</font></span>
      <div class="blocktitle" style="background-color: #e2e37e;"><a href="example1-en.wikipedia.exr">One rule</a></div>

      <div class="label">
          <font color="black"> <b>description:</b><br/></font>
           Simple library with just one rule. No rule to extract/harvest links.  <br>
      </div>


      <div class="label"><b>target:</b><br/>
        wikipedia title<br>
      </div>


      <div class="label smaller"><i><b>demonstrated fields:</b> ruleName, ruleCSSSelector, ruleURLActivationCondition, csvLineFormat, ruleReturnsMore, ruleReturnedMatchPos, library</i></div>
  </div> <!-- block -->






<!-- XXXXXXXXXXX -->

  <div id="e1.1" class="block clrblock1 hoveredblock">
      <span class="subexamplenumber"><font color="#e2e37e">01.1</font></span>

      <div class="blocktitle blocktitlesubexample" style="background-color: #e2e37e;"><a href="example1.1-stanford.edu.exr">One rule (site crawling)</a></div>

      <div class="label subexample">
          <font color="black"> <b>description:</b><br/></font>
           Simple library with just one rule to harvest and extract links. No data is extracted from page.<br>
      </div>


      <div class="label subexample"><b>target:</b><br/>
        This library crawls the stanford.edu website and stores the downloaded pages locally, mirroring the crawled site. This library does not extract data from webpages; only stores downloaded webpages locally.<br>
      </div>


      <div class="label smaller subexample"><i><b>demonstrated fields:</b> getLinks, +++++ </i></div>

      <div class="label smaller code subexample"><b>Example</b> crawl -M -n -1 -r rules/example1.1-stanford.edu.exr -HR -1 https://www.stanford.edu/</div>
  </div> <!-- block -->










   <!-- XXXXXXXXXXX -->

  <div id="e2" class="block hoveredblock">
      <span>02</span>
      <div class="blocktitle"><a href="example2-en.wikipedia.exr">Library with two rules including getLinks</a></div>
      <div class="label">
          <font color="black"> <b>description:</b><br/></font>
          Simple library with two rules. Defines rule to harvest links (getLinks rule).<br>
      </div>
      <div class="label"><b>target:</b><br/>
       wikipedia title<br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> getLinks, ruleCSSSelector, library, ruleURLActivationCondition</i></div>
      <div class="label smaller code"><b>Example</b> crawl  -r rules/example2-en.wikipedia.exr -o csv/example2.csv https://en.wikipedia.org/wiki/Python_(programming_language)</div>
  </div> <!-- block -->


  <!-- XXXXXXXXXXX -->


  <div id="e3" class="block hoveredblock">
      <span>03</span>
      <div class="blocktitle"><a href="example3-en.wikipedia.exr">Three rules scraping different parts of same page</a></div>
      <div class="label">
          <font color="black"> <b>description:</b><br/></font>
          Demonstrating application of three rules on a downloaded page, each extracting different parts of the same page. One of these rules extracts hyperlinks. <br>
      </div>
      <div class="label"><b>target:</b><br/>extracts the team name, team full name and links (leading to wikipedia) from infobox of wikipedia articles related to football clubs<br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> library, ruleCSSSelector, getLinks</i></div>
      <div class="label smaller code"><b>Example</b> crawl  -r rules/example3-en.wikipedia.exr -o csv/example3.csv https://en.wikipedia.org/wiki/List_of_football_clubs_in_Italy</div>

  </div>


<!-- XXXXXXXXXXX -->


  <div id="e4" class="block clrblock2 hoveredblock">
      <span><font color="#9ef386">04</font></span>
      <div class="blocktitle" style="background-color: #d7facd;"><a href="example4-en.wikipedia.exr">Page preconditions</a></div>
      <div class="label">
          <font color="black"> <b>description:</b></font><br/> Demonstrating the use of page precondition before applying a rule i.e. the rule's css selector. This example features a rule with only one (1) page precondition.<br>
      </div>
      <div class="label"><b>target:</b><br/>Extracts manager's name from infobox if the infobox's ninth row has a value of Manager or Head coach (the precondition). If the precondition holds, rule is applied. If not, rule is not applied and an
      empty string as rule value is returned (default for page preconditions).<br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> rulePreconditions, ecCSSSelector, ecTextCondition, getLinks</i></div>
      <div class="label smaller code"><b>Example</b> crawl -n -1 -r rules/example4-en.wikipedia.exr -o csv/example4.csv https://en.wikipedia.org/wiki/List_of_Premier_League_clubs</div>

  </div>


 <!-- XXXXXXXXXXX -->


  <div id="e4.1" class="block clrblock2 hoveredblock">
      <span class="subexamplenumber"><font color="#9ef386">04.1</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #d7facd;"><a href="example4.1-en.wikipedia.exr">Page preconditions (ANY)</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of more than one page preconditions in one rule, before applying the rule's css selectors and
                   how these preconditions are evaluated. This example demonstrates evaluation using the ANY operator between
                    preconditions i.e. rule is applied if ANY of the specified rule preconditions is evaluated as TRUE.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/> extracts the title of english wikipedia articles that are about statistics OR algebra.<br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> rulePreconditions, rulePreconditionType (ANY) </i></div>
      <div class="label smaller code subexample"><b>Example</b> crawl -M -n -1 -r rules/example4.1-en.wikipedia.exr -o csv/example4.1.csv https://en.wikipedia.org/wiki/Statistics</div>

  </div> <!-- block -->



<!-- XXXXXXXXXXX -->


  <div id="e4.2" class="block clrblock2 hoveredblock">
      <span class="subexamplenumber"><font color="#9ef386">04.2</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #d7facd;"><a href="example4.2-en.wikipedia.exr">Page preconditions (ALL)</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of more than one page preconditions in one rule, before applying the rule's css selectors and how these preconditions
           are evaluated. This example demonstrates evaluation using the ALL operator between preconditions (rulePreconditionType) i.e. rule is applied if ALL of the specified rule preconditions are evaluated to TRUE.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          This library scraps/extracts the name of scientists from wikipedia articles, that meet the all the next requirements:<br>
          1) are physicists AND<br>
          2) are born in either january or march or may or october AND<br>
          3)  have an american nationality.
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> rulePreconditions, rulePreconditionType (ALL), getLinks, ecCSSSelector, ecTextCondition, ecRuleCSSSelector, ruleCSSSelector </i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -M -n -1 -r rules/example4.2-en.wikipedia.exr -o csv/example4.2.csv https://en.wikipedia.org/wiki/List_of_physicists </div>

</div> <!-- block -->



<!-- XXXXXXXXXXX -->


  <div id="e4.3" class="block clrblock2 hoveredblock">
      <span class="subexamplenumber"><font color="#9ef386">04.3</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #d7facd;"><a href="example4.3-en.wikipedia.exr">Page preconditions (EVAL)</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of more than one page preconditions in a rule, before applying the rule's css selectors (scraping data) and
		   how these preconditions are evaluated. This example demonstrates evaluation using the EVAL operator between
		   preconditions i.e. a boolean expression can be specified (with all supported logical operators like AND, OR, NOT as well as parentheses) using
		   as operands the truth value of each of the preconditions referenced by their name. If the boolean expression evaluates to True, the rule is applied. If not
           the rule is not applied.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          This library scraps/extracts the title of english wikipedia articles that are about physicists (i.e. their name)
		  that meet all following requirements:
		  1) are physicists, 2) are born in either january or march or may or october and 3)  have an american nationality. In contrast to the rule in example5.1-en.wikipedia.exr
		  the rules here make sure that the checked values refer to/are associated with specific fields (which example5.1 does not). The precondition expression evaluated is
		  <i><font color="maroon" face = "Monaco,Ubuntu Mono, Space Mono, Hack,IBM Plex Mono,Monoid,Arial">"p1 AND p2 AND p3 AND ( (p4 AND p5) OR (p6 AND p7) OR (p8 AND p9) )"</font></i>
		  where each of p1, p2, p3 etc is the name of a precondition. If this expression evaluates to TRUE, the rule is applied and not if the expression evaluates to FALSE.
		  Preconditions can be part of EVAL expression only if they have a name.



          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> rulePreconditions, rulePreconditionType (EVAL)  ecCSSSelector, ecTextCondition, ecRuleCSSSelector, ruleCSSSelector </i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -M -n -1 -r rules/example4.3-en.wikipedia.exr -o csv/example4.3.csv https://en.wikipedia.org/wiki/List_of_physicists</div>

</div> <!-- block -->




<!-- XXXXXXXXXXX -->


  <div id="e4.4" class="block clrblock2 hoveredblock">
      <span class="subexamplenumber"><font color="#9ef386">04.4</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #d7facd;"><a href="example4.4-en.wikipedia.exr">Page precondition with css selector overwritting</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           more than one page preconditions in rules that moreover overwrite/change the rule's specified
 ruleCSSSelector selector with  ecRuleCSSSelector depending on which  precondition evaluated to True. First match precondition returning True, overwrites selector. ruleCSSSelector overwriting is possible only when rulePreconditionType has value ANY.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/> extracts the manager's name by searching sequentially rows of the infobox until it finds the row for the manager/coach and changes the selector accordingly<br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> ecRuleCSSSelector, rulePreconditions, ruleCSSSelector, rulePreconditionType (ANY)</i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -M -n -1 -r rules/example4.4-en.wikipedia.exr -o csv/example4.4.csv  https://en.wikipedia.org/wiki/List_of_Premier_League_clubs</div>

  </div> <!-- block -->






  <!-- XXXXXXXXXXX -->


  <div id="e5" class="block clrblock3 hoveredblock">
      <span><font color="#facfe2">05</font></span>
      <div class="blocktitle" style="background-color: #facfe2"><a href="example5-en.wikipedia.exr">Post match preconditions</a></div>
      <div class="label">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of (post) match preconditions i.e. preconditions that are applied to the elements returned after applying
                    ruleCSSSelector (or page precondition's ecRuleCSSSelector) and before returning the (final) results. Elements that meet the match
                    precondition are kept in the result, while those who do not are removed. Match preconditions have exactly the same fields
                    as page preconditions (see e.g. exampleXXX-en.wikipedia.exr and exampleYYY-en.wikipedia.exr).
                    Match preconditions may also specify css seslectors that are applied to the already extracted results.
                    If a match precondition has specified the ecRuleCSSSelector field, this means that if this match precondition is true
                    for the element being examined, the selector in ecRuleCSSSelector is applied to the element and the result replaces
                    the examined element. <i>NOTE: match preconditions are different from (page) preconditions (see example05, 05.1 and 05.2). See <a href="https://github.com/deusExMac/WebScraper">Readme</a> for details on their differences.</i>
          <br>
      </div>
      <div class="label"><b>target:</b><br/> extracts from the wikipedia page on champions league finals the name of football teams that have won the champions league more than three times (>3) in their club history. A record is returned where the names of matching football teams is returned in a list which is the value of the key with the rule name.<br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> ruleMatchPreconditions, ecCSSSelector, ecTextCondition, ecRuleCSSSelector, ruleCSSSelector </i></div>
      <div class="label smaller code"><b>Usage</b> crawl -n 1 -r rules/example5-en.wikipedia.exr -o csv/example5.csv  https://en.wikipedia.org/wiki/List_of_European_Cup_and_UEFA_Champions_League_finals</div>

</div> <!-- block -->





<!-- XXXXXXXXXXX -->


  <div id="e5.1" class="block clrblock3 hoveredblock">
      <span class="subexamplenumber"><font color="#facfe2">05.1</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #facfe2"><a href="example5.1-en.wikipedia.exr">Post match preconditions (getLinks)</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of post match preconditions in rule getLinks to extract and follow links that meet more complicated conditions.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          extracts -from a specific wikipedia page on champions league finals- and follows only these links leading to football teams wikipedia pages, that have won the UEFA Champions League more than 3 time. These links are followed the team's name is extracted. Links are returned as strings in a list, which list is the value of the getLinks key.
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> ruleMatchPreconditions, getLinks, ecCSSSelector, ecTextCondition, ecRuleCSSSelector, ruleCSSSelector </i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -n -1 -r rules/example5.1-en.wikipedia.exr -o csv/example5.1.csv  https://en.wikipedia.org/wiki/List_of_European_Cup_and_UEFA_Champions_League_finals 
      </div>

</div> <!-- block -->




<!-- XXXXXXXXXXX -->


  <div id="e6" class="block hoveredblock">
      <span>06</span>
      <div class="blocktitle"><a href="example6-en.wikipedia.exr">Post match CSS selectors</a></div>
      <div class="label">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of post match CSS selectors with element breakdown using the rulePostCSSSelector field i.e. selectors that are applied to each result of ruleCSSSelector breaking them apart and storing each part in a new key. This results in a single rule returning a so called <i>recordlist</i> i.e. a list of extracted data containing new keys which (list) will be the value of the key with rule name instead of one key-value pair.
          <br>
      </div>
      <div class="label"><b>target:</b><br/> This example extracts from a table captioned "Performances in the European Cup and UEFA Champions League by club" found on the page https://en.wikipedia.org/wiki/List_of_European_Cup_and_UEFA_Champions_League_finals the name of the teams, the times they won the Champions League, the times they were runner-ups as well as the seasons they won the Champions League and it does this only for those teams that have won the champions league title more than 3 times. <br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> rulePostCSSSelector, ruleReturnedValueNames, ruleCSSSelector, csvLineFormat, requiredFilledFields, ruleMatchPreconditions </i></div>
      <div class="label smaller code"><b>Usage</b> crawl -n 1 -r rules/example6-en.wikipedia.exr -o csv/example6.csv  https://en.wikipedia.org/wiki/List_of_European_Cup_and_UEFA_Champions_League_finals</div>
  </div> <!-- block -->


<!-- XXXXXXXXXXX -->


  <div id="e7" class="block hoveredblock">
      <span>07</span>
      <div class="blocktitle"><a href="example7-youtube.com.exr">HTTP request header parameters</a></div>
      <div class="label">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating how to set http request header parameters including: request cookies, user agent and http headers.
          <br>
      </div>
      <div class="label"><b>target:</b><br/> This example sets one cookie related to the users consenting accepting cookies when accesing youtube.com, without having signed in.
      The cookie that is set in this example named "CONSENT" has as a result that the consent form "Before you continue to YouTube" is not shown when accessing youtube's home page as an unatuthorized user.<br/>You
      may add cookies related to session ids or authentication information in order to access websites as an authenticated user. You may get such authentication/session cookies using a browser's Web development tools and capture http request headers. <a href="example9-youtube.com-cookies.exr">Rule file contains instructions on how to specify and format such cookies.</a> <br>
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> requestCookies, requestUserAgent, requestHeader </i></div>
      <div class="label smaller code"><b>Usage:</b> crawl -M -n 1 -r rules/example7-youtube.com.exr -o csv/example7.csv  https://www.youtube.com/</div>
  </div> <!-- block -->




<!-- XXXXXXXXXXX -->


  <div id="e8" class="block clrblock4 hoveredblock">
      <span><font color="#edef6c">08</font></span>
      <div class="blocktitle" style="background-color: #f9fad2;"><a href="example8-en.wikipedia.exr">Using rendering engine (Chromium)</a></div>
      <div class="label">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating the use of a rendering engine to download a page using the renderPages field. This results in using a rendering engine
           to download and load the html page using the <a href="https://miyakogi.github.io/pyppeteer/">pyppeteer</a> module. The default rendering engine
           used is <a href="https://en.wikipedia.org/wiki/Chromium_(web_browser)">Chromium</a> if no other is specified. Only Chromium and Chrome are currently supported. You may change
           the default engine to an external chrome installation using the <font class="codesnipped">launchParameters</font> field.
          <br>
      </div>
      <div class="label"><b>target:</b><br/>
      This example extracts the article of wikipedia articles using a browser rendering engine. WebScraper has two ways
	  to download pages via the WWW: 1) using simple http requests 2) using a browser rendering engine.
	  A browser rendering engine (chromium or chrome in particular) is used to download, load and process pages when the field renderPages in .exr is set to True.
	  If renderPages is set to False, a simple http request is used. Using a browser rendering engine to download
	  pages allows WebScraper to use a greater range of functionalities such as interacting with the downloaded page.<br>
	  NOTE: Setting renderPages to true will result in slower web page retrieval and processing.
      </div>
      <div class="label smaller"><i><b>demonstrated fields:</b> renderPages </i></div>
      <div class="label smaller code"><b>Usage:</b> crawl -n 1 -r rules/example8-en.wikipedia.exr -o csv/example8.csv  https://en.wikipedia.org/wiki/Python_(programming_language)</div>
  </div> <!-- block -->






<!-- XXXXXXXXXXX -->


  <div id="e8.1" class="block clrblock4 hoveredblock">
      <span class="subexamplenumber"><font color="#edef6c">08.1</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #f9fad2;"><a href="example8.1-youtube.com.exr">Scrolling webpage a specified number of times</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating interacting with the downloaded web page to load dynamically its content. In this
		   example, one simple interaction is shown namely scrolling of the web page in order to load
		   more of its content before extracting/scraping data.
		   This example uses number of times to control scrolling; it scrolls the entire page a specified number of times specified in this .exr file.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          This example extracts the names of users that have commented on youtube videos. A youtube page, when loaded
		  does not immediately load the comment section beneath the video. On youtube in order for the video comments to appear/load,
		  the page must be scrolled down. The more the page is scrolled down, the more comments will appear. This example shows how to scroll page and configure some aspects of scrolling process.
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> ruleDynamicElements, dpcScrolldown, dpcType, renderPages, dpcURLActivationCondition</i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -n 1 -r rules/example8.1-youtube.com.exr -o csv/example8.1.csv https://www.youtube.com/watch?v=GJDNkVDGM_s
      </div>

</div> <!-- block -->




<!-- XXXXXXXXXXX -->


<div id="e8.2" class="block clrblock4 hoveredblock">
      <span class="subexamplenumber"><font color="#edef6c">08.2</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #f9fad2;"><a href="example8.2-youtube.com.exr">scroll until number of elements appear;infinite scrolling</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating interacting with the downloaded web page to load dynamically its content. In this
example, one simple interaction is shown namely scrolling of the web page in order to load
 more of its content. This example scrolls down the web page until a predefined (maximum) number of html elements will appear on the page specified
in this rule file.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          This example extracts the names of users that have commented on a youtube video and the number of likes the comment received. It first scrolls the youtube page as many times as required until a predefined number (scrollTargetCount) of elements (scrollTargetSelector) has been loaded. The exraction of usernames and like count starts as soon as the number of elements has been loaded. A negative value for number of elements means infinite scrolling i.e. load all comments.
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> dpcScrollTargetElementCount, scrollTargetSelector, scrollTargetCount, ruleDynamicElements, renderPages, dpcURLActivationCondition, dpcType, rulePostCSSSelector, ruleReturnedValueNames</i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -n 1 -r rules/example8.2-youtube.com.exr -o csv/example8.2.csv https://www.youtube.com/watch?v=GJDNkVDGM_s</div>

</div> <!-- block -->




<!-- XXXXXXXXXXX -->


<div id="e8.3" class="block clrblock4 hoveredblock">
      <span class="subexamplenumber"><font color="#edef6c">08.3</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #f9fad2;"><a href="example8.3-airbnb.exr">Scrolling element, not page </a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           TODO: Finish me. Demonstrating XXXX How to scroll html element that is scrollable (e.g. a div or control).
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          Downloads comments from airbnb listings. In these listing, comments are shown in windows/divs that pop up. This window/div needs to be scrolled to load comments
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> ruleDynamicElements, dpcType (scroll), dpcPageElement, dpcScrolldown, dpcWaitFor, renderPages </i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -n 1 -r rules/example8.3-airbnb.exr -o csv/example8.3.csv  https://www.airbnb.com/rooms/4062487
      </div>

</div> <!-- block -->


<!-- XXXXXXXXXXX -->


<div id="e8.4" class="block clrblock4 hoveredblock">
      <span class="subexamplenumber"><font color="#edef6c">08.4</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #f9fad2;"><a href="example8.4-google.exr">fill inputs, click button, submit form</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating how to interact with web pages: demonstrates how to click on buttons, fill input boxes and submitting forms executed in sequence.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          This example performs a google search for python. It visits the google main page and since it accesses it as an unauthorized user a consent form is shown. This rule clicks
          on the consent form, fills in the search box with the word 'python' and clicks on the submit button. It extracts the links from the returned results search page.
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> ruleDynamicElements, dpcType (click, fill), dpcPageElement, dpcScrolldown, dpcWaitFor, dpcFillContent, renderPages </i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -M -n 1 -r rules/example8.4-google.exr -o csv/example8.4.csv -G https://www.google.com/</div>

</div> <!-- block -->


<!-- XXXXXXXXXXX -->


  <div id="e8.5" class="block clrblock4 hoveredblock">
      <span class="subexamplenumber"><font color="#edef6c">08.5</font></span>
      <div class="blocktitle blocktitlesubexample" style="background-color: #f9fad2;"><a href="example8.3-airbnb.exr">Using external Chrome installation as engine</a></div>
      <div class="label subexample">
          <font color="black"> <b>description:</b> </font><br/>
           Demonstrating launching an external Chrome installation in headless mode as the rendering engine to download and interact with webpages (instead of the default Chromium engine used by pyppeteer)
           by specifying the <font class="codesnipped">launchParameters</font> field.
          <br>
      </div>
      <div class="label subexample"><b>target:</b><br/>
          This example uses an external installation of Chrome to access the page of an airbnb listing and load the comment screen, scrolling it 8 times. This is because the
          default rendering engine available in pyppeteer (which uses <a href="https://en.wikipedia.org/wiki/Chromium_(web_browser)">Chromium</a>) does not seem to support (as of 04/11/2022) proper rendering of airbnb listings. This may happen for some websites. In such cases, an external Chrome installation can be used that seem to overcome these limitation. However, if using an external Chrome installation as rendering engine, care should be taken if Chrome is already running: this may result in the page not being loaded if the page is already diplayed on the headfull Chrome. Field <font class="codesnipped">launchParameters</font>
          is only taken into consideration when renderPages is set to True. Otherwise it is ignored. launchParameters requires supplying values to two fields: <font class="codesnipped">executablePath</font>, which is the path to external Chrome installation and <font class="codesnipped">userDataDir</font> which is required on Windows platforms.
          <br>
      </div>
      <div class="label smaller subexample"><i><b>demonstrated fields:</b> launchParameters, renderPages</i></div>
      <div class="label smaller code subexample"><b>Usage</b> crawl -n 1 -r rules/example8.3-youtube.com.exr -o csv/example8.3.csv https://www.airbnb.com/rooms/38874907</div>

</div> <!-- block -->


<div class="block"> </div>













</div> <!-- row -->




<div class="caption redcaption">Working real examples</div>
<div class="row rowbackground2">


<!-- XXXXXXXXXXX -->

 <div id="eI" class="block clrblock4 hoveredblock">
       <span><font color="#964bcc">I</font></span>
       <div class="blocktitle" style="background-color: #800000;"><a href="youtube.com-user-comments-votecount.exr"><font color="white">Usernames, content, thumbs up count from youtube video pages</font></a></div>
       <div class="label">
           <font color="black"> <b>description:</b> </font><br/>
            Extracts data from youtube video pages and in particular extracts
            from each comment the following data: user making the comment, vote up-count 
            of comment and the content of the comment. Makes unauthenticated access to video
            pages (i.e. guest access).
            Does not extract all comments;
            scrolls the video page a number of times (here exactly 6 times) and extracts 
            all the comments that were loaded. Number of data items (comment data) extracted 
            may differ depending on the youtube video.
           <br>
       </div>
       <div class="label"><b>target:</b><br/>
       comment section youtube video pages
       </div>
       <div class="label smaller"><i><b>demonstrated fields:</b> renderPages, ruleDynamicElements </i></div>
       <div class="label smaller code"><b>Usage:</b> crawl -n 1 -r rules/youtube.com-user-comments-votecount.exr -o csv/ytComments.csv https://www.youtube.com/watch?v=GJDNkVDGM_s</div>
  </div> <!-- block -->



<!-- XXXXXXXXXXX -->

<div id="eII" class="block clrblock4 hoveredblock">
       <span><font color="#edef6c">II</font></span>
       <div class="blocktitle" style="background-color: #f9fad2;"><a href="airbnb-user-comments.exr">TODO: Check if the same with 8.3: Usernames, content, from airbnb accommodation pages</a></div>
       <div class="label">
           <font color="black"> <b>description:</b> </font>This set of rules extracts user names and 
           comments from airbnb listings. It uses an external browser (Chrome), 
           not pyppeteer's default Chromium, as Chromium seems to be unable load/render 
           properly such pages. Makes unauthenticated access to airbnb listing
           page (i.e. guest access).<br/><br/>
           <font color="red"><b>This library/rule set makes use of launchParameters field in .exr files. <br/>
           Make sure to properly adjust launchParameters field for your platform before 
               using this exr file!</b></font>
           <br/>
       </div>
       <div class="label"><b>target:</b><br/>
       airbnb listings like this:
       </div>
       <div class="label smaller"><i><b>demonstrated fields:</b> renderPages </i></div>
       <div class="label smaller code"><b>Usage:</b> crawl -M -n 1 -r rules/airbnb-user-comments.exr -o csv/airbnbComments.csv -G https://www.airbnb.com/rooms/3589714</div>
  </div> <!-- block -->



<!-- XXXXXXXXXXX -->

 <div id="eIII" class="block clrblock4 hoveredblock">
       <span><font color="#edef6c">III</font></span>
       <div class="blocktitle" style="background-color: #f9fad2;"><a href="reddit.exr">Username, comments from Reddit subreddit pages</a></div>
       <div class="label">
           <font color="black"> <b>description:</b> </font><br/>
            xxx
           <br>
       </div>
       <div class="label"><b>target:</b><br/>
       YYYY
       </div>
       <div class="label smaller"><i><b>demonstrated fields:</b>  </i></div>
       <div class="label smaller code"><b>Usage:</b> </div>
  </div> <!-- block -->



<!-- XXXXXXXXXXX -->

 <div id="IV" class="block clrblock4 hoveredblock">
       <span><font color="#edef6c">IV</font></span>
       <div class="blocktitle" style="background-color: #f9fad2;"><a href="spitogatos.gr-location-price.exr">Area, price of listings on Spitogatos</a></div>
       <div class="label">
           <font color="black"> <b>description:</b> </font><br/>
            Makes unauthenticated access to airbnb listing
           page (i.e. guest access).
           <br>
       </div>
       <div class="label"><b>target:</b><br/>
       YYYY
       </div>
       <div class="label smaller"><i><b>demonstrated fields:</b>  </i></div>
       <div class="label smaller code"><b>Usage:</b> crawl -M -n 1 -r rules/spitogatos.gr-location-price.exr -o csv/spitogatos.csv https://www.spitogatos.gr/aggelia/1112719374</div>
  </div> <!-- block -->



<!-- XXXXXXXXXXX -->

 <div id="eV" class="block clrblock4 hoveredblock">
       <span><font color="#edef6c">V</font></span>
       <div class="blocktitle" style="background-color: #f9fad2;"><a href="fb.exr">Facebook feed authenticated used</a></div>
       <div class="label">
           <font color="black"> <b>description:</b> </font><br/>
            xxx
           <br>
       </div>
       <div class="label"><b>target:</b><br/>
       YYYY
       </div>
       <div class="label smaller"><i><b>demonstrated fields:</b>  </i></div>
       <div class="label smaller code"><b>Usage:</b> </div>
  </div> <!-- block -->





 </div> <!-- row -->

<br>

</body>

</html>